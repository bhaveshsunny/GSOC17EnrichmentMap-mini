<!DOCTYPE html>
<html>
	<head>
	    <meta charset="utf-8">
	    <meta http-equiv="X-UA-Compatible" content="IE=edge">
	    <meta name="viewport" content="width=device-width, initial-scale=1">
		<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet" integrity="sha384-+ENW/yibaokMnme+vBLnHMphUYxHs34h9lpdbSLuAwGkOKFRl4C34WkjazBtb7eT" crossorigin="anonymous">
		<link rel="stylesheet" type="text/css" href="./src/client/public/styles.css">
		<!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
		<script src="https://code.highcharts.com/highcharts.js"></script>
		<script src="https://code.highcharts.com/modules/exporting.js"></script>
		<script src="https://unpkg.com/babel-core@5.8.38/browser.min.js"></script>
		<script src="https://unpkg.com/react@15/dist/react.js"></script>
		<script src="https://unpkg.com/react-dom@15/dist/react-dom.js"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script> -->
		<!-- <script type="text/babel" >
			function Barplot(props) {
				var elements = props.items;
				var data = []
				for(var i=0;i<elements.length;i++){
					data.push(Math.floor((Math.random() * 10) + 0))
				}
Highcharts.chart('barplot', {
    chart: {
        type: 'bar'
    },
    title: {
        text: 'Enrichment data for genes'
    },
    subtitle: {
        text: ''
    },
    xAxis: {
        categories: elements,
        title: {
            text: null
        }
    },
    yAxis: {
        min: 0,
        title: {
            text: 'Data',
            align: 'high'
        },
        labels: {
            overflow: 'justify'
        }
    },
    tooltip: {
        valueSuffix: ' units'
    },
    plotOptions: {
        bar: {
            dataLabels: {
                enabled: true
            }
        }
    },
    legend: {
        layout: 'vertical',
        align: 'right',
        verticalAlign: 'top',
        x: -40,
        y: 80,
        floating: true,
        borderWidth: 1,
        backgroundColor: ((Highcharts.theme && Highcharts.theme.legendBackgroundColor) || '#FFFFFF'),
        shadow: true
    },
    credits: {
        enabled: false
    },
    series: [{
        name: 'Analysis set',
        data: data
    }],

    responsive: {
        rules: [{
            condition: {
                maxWidth: 500
            },
            chartOptions: {
                legend: {
                    align: 'center',
                    verticalAlign: 'bottom',
                    layout: 'horizontal'
                },
                yAxis: {
                    labels: {
                        align: 'left',
                        x: 0,
                        y: -5
                    },
                    title: {
                        text: null
                    }
                },
                subtitle: {
                    text: null
                },
                credits: {
                    enabled: false
                }
            }
        }]
    }
});
return null;
}
			var TaskList = React.createClass({
			    deleteElement:function(){
			    },

			    render: function(){

			        var displayTask  = function(task, taskIndex){
			            console.log("NEW ADDED TASK"+task);

			            return

				            <tr key={taskIndex}>
					                <td >
					                    {taskIndex}

					                </td>
					                <td>
					                	{task}
					                </td>
					                <td>
					                	<button onClick={this.props.deleteTask} value={taskIndex} href="#" className="btn btn-default">
					                		<span className="glyphicon glyphicon-remove"></span> Remove
					                	</button>
					                </td></tr>
			            ;
			        };

			        return <tbody>
			            {this.props.items.map((task, taskIndex) =>
			            	<tr key={taskIndex}>
					                <td >
					                    {taskIndex}

					                </td>
					                <td>
					                	{task}
					                </td>
					                <td>
					                	<button onClick={this.props.deleteTask} value={taskIndex} href="#" className="btn btn-default">
					                		<span className="glyphicon glyphicon-remove"></span> Remove
					                	</button>
					                </td>
				            	</tr>
			            )}
			        </tbody>;
			    }
			 });

			var TaskApp = React.createClass({
			    getInitialState: function(){
			        return {
			             items: ['bcl2','abc'],
			             task: ''
			        }
			    },

			    deleteTask: function(e) {
			        var taskIndex = parseInt(e.target.value, 10);
			        this.setState(state => {
			            state.items.splice(taskIndex, 1);
			            return {items: state.items};
			        });
			    },

			    onChange: function(e) {
			        this.setState({ task: e.target.value });
			    },

			    addTask:function (e){

			        this.setState({
			            items: this.state.items.concat([this.state.task]),

			            task: ''
			        })

			        e.preventDefault();
			    },

			    render: function(){



			        return(
			            <div>
			      			<form id="genelist" onSubmit={this.addTask}>
					      	  <div className="form-group">
							    <label htmlFor="exampleInputEmail1">Genes List</label>
							    <input onChange={this.onChange} value={this.state.task} type="text" className="form-control" id="exampleInputEmail1" placeholder="Gene">
							    </input>
							  </div>
							  <button type="submit" className="btn btn-default">Add</button>
					      	</form>
					      	<Barplot items={this.state.items}/>
			      			<table className="table table-striped table-bordered">
								<thead>
									<tr>
										<td>#</td>
										<td>Gene Name</td>
										<td>Remove</td>
									</tr>
								</thead>
								<TaskList items={this.state.items} deleteTask={this.deleteTask} />
							</table>
						</div>
			        );
			    }
			});

			class EMdemo extends React.Component {

			  render() {
			    return (
					<TaskApp />
			    );
			  }
			}

			ReactDOM.render(
			  <EMdemo />,
			  document.getElementById('demo')
			);
		</script> -->
	</head>
	<body>

	<nav class="navbar navbar-default" style="margin:0;">
	  <div class="container-fluid">
	    <div class="navbar-header">
	      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
	        <span class="sr-only">Toggle navigation</span>
	        <span class="icon-bar"></span>
	        <span class="icon-bar"></span>
	        <span class="icon-bar"></span>
	      </button>
	      <a class="navbar-brand" href="#">Enrichment Map demo</a>
	    </div>

	    <!-- Collect the nav links, forms, and other content for toggling -->
	    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
	      <!-- <ul class="nav navbar-nav">
	        <li><a href="#">Home<span class="sr-only">(current)</span></a></li>
	      </ul> -->

	    </div>
	  </div>
	</nav>
	<div class="SearchBar jumbotron clearfix" style="margin:0;">
		<div class="col-md-10 col-xs-9">
			<div class="form-group">
				<span class="input-group">
					<input class="form-control" placeholder="Gene name/ HNGC symbol" type="text">
					<span class="input-group-btn">
						<button class="btn btn-default">Search</button>
					</span>
				</span>
			</div>
		</div>
		<div class="col-md-2 col-xs-3">
			<div class="link">Advanced</div>
		</div>
	</div>
	<div class="container-fluid">
				    	<div  id="top">
				      		<div id="demo" className="col-lg-4 col-md-4 col-xs-4">

				      		</div>

					      	<div class="lcol">
						      	<div>
							      	<div className="col-lg-4 col-md-4 col-xs-4">
						      		</div>
						        	<div className="col-lg-4 col-md-4 col-xs-4" id ="barplot">
						        	</div>
						      	</div>
						      	<div id="plots">
						      	</div>
					      	</div>
				      	</div>

	</div>
	</body>
	<script src="./src/client/public/bundle.js" type="text/javascript"></script>
</html>
